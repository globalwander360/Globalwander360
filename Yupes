@DataJpaTest
public class DpwThresholdRepositoryTest {

    @Autowired
    private DpwThresholdRepository dpwThresholdRepository;

    @Test
    public void findFirstByProductGroupAndEventNameAndSectorTest() {
        ThresholdEntity testEntity = new ThresholdEntity();
        testEntity.setProductName("Product Name 1");
        testEntity.setProductGroupName("Product Group 1");
        testEntity.setEventName("Event 1");
        testEntity.setSector("+");
        testEntity.setBranchCode("30004");
        testEntity.setCountryCode("IN");

        dpwThresholdRepository.save(testEntity);

        Optional<ThresholdEntity> dpwThreshold = dpwThresholdRepository
            .findFirstByProductNameAndProductGroupNameAndEventNameAndSectorAndBranchCodeAndCountryCode(
                "Product Name 1", "Product Group 1", "Event 1", "+", "30004", "IN");

        assertThat(dpwThreshold).isPresent();
        assertThat(dpwThreshold.get()).isNotNull();
        assertThat(dpwThreshold.get().getProductName()).isEqualTo("Product Name 1");
    }
}
