@Test
void createRequest_ShouldHandleNormalAndFallbackFlow() {
    // Arrange
    Request incomingRequest = new Request();
    incomingRequest.setChannelName("UV");  // Set channel to UV for fallback scenario

    Request expectedRequest = new Request();
    expectedRequest.setId("R1");

    // Simulate fallback scenario
    when(requestService.createRequest("bnppuid1", incomingRequest, null, null, "30004", "FR", null))
        .thenThrow(new RuntimeException("Status and Workflow Mismatch"));

    when(requestService.createRequestInCaseOfFallback("bnppuid1", incomingRequest, "30004"))
        .thenReturn(expectedRequest);

    // Act
    ResponseEntity<Request> requestResponseEntity = requestController.createRequest(
        "30004", "FR", "bnppuid1", null, null, null, incomingRequest
    );

    // Assert
    Request resultRequest = requestResponseEntity.getBody();
    assertNotNull(resultRequest);
    assertEquals(expectedRequest, resultRequest);

    // Verify both methods
    verify(requestService, times(1)).createRequest("bnppuid1", incomingRequest, null, null, "30004", "FR", null);
    verify(requestService, times(1)).createRequestInCaseOfFallback("bnppuid1", incomingRequest, "30004");
}
