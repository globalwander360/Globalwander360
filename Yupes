@ExtendWith(MockitoExtension.class)
public class DpwThresholdRepositoryTest {

    @Mock
    private DpwThresholdRepository dpwThresholdRepository;

    @Test
    public void testFindFirstByProductGroupEventAndSector() {
        ThresholdEntity thresholdEntity = new ThresholdEntity();
        thresholdEntity.setProductName("Product Name 1");
        thresholdEntity.setProductGroupName("Product Group 1");
        thresholdEntity.setEventName("Event 1");
        thresholdEntity.setSector("+");
        thresholdEntity.setBranchCode("30004");
        thresholdEntity.setCountryCode("IN");

        Mockito.when(dpwThresholdRepository
                .findFirstByProductNameAndProductGroupNameAndEventNameAndSectorAndBranchCodeAndCountryCode(
                    "Product Name 1", "Product Group 1", "Event 1", "+", "30004", "IN"
                ))
            .thenReturn(Optional.of(thresholdEntity));

        Optional<ThresholdEntity> result = dpwThresholdRepository
                .findFirstByProductNameAndProductGroupNameAndEventNameAndSectorAndBranchCodeAndCountryCode(
                    "Product Name 1", "Product Group 1", "Event 1", "+", "30004", "IN");

        assertThat(result).isPresent();
        assertThat(result.get()).isNotNull();
        assertThat(result.get().getProductName()).isEqualTo("Product Name 1");
    }
}
