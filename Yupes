@Test
public void shouldReturnEmptyList_WhenBranchApiThrowsException() {
    String bnppuid = "e12928";
    String branchCode = "FR001";
    String countryCode = "FR";

    when(branchApi.searchBranch(
        eq(bnppuid), 
        isNull(),
        isNull(),
        isNull(),
        eq(branchCode),
        eq(countryCode),
        isNull(),
        isNull(),
        isNull(),
        isNull()
    )).thenThrow(new RuntimeException("API error"));

    List<Branch> result = requestServiceImpl.getBranches(bnppuid, branchCode, countryCode);

    Assertions.assertEquals(Collections.emptyList(), result);
}
